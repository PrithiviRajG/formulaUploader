
  <div id="page" [@moveInLeft]="state">

  <md-toolbar color="primary" [@fallIn]="state">
    <span>Formula Repository</span>    
    <button class="logout" (click)="logout()" md-button>Logout</button>
  </md-toolbar>

<md-card>
  <md-radio-group class="example-radio-group"  [(ngModel)]="selectedTier">
  <md-radio-button class="example-radio-button"  *ngFor="let tier of tiers"   [value]="tier">
    {{tier}}
  </md-radio-button>
</md-radio-group>
</md-card >
  <md-card *ngIf="selectedTier==='Single Tier' || selectedTier==='Two Tier' || selectedTier==='Three Tier'">
    <md-input-container class="example-half-width">
      <input mdInput placeholder="Tier 1 title"  [(ngModel)]="tier1.title">
    </md-input-container>
    <md-input-container class="example-half-width">
      <textarea mdInput placeholder="Tier 1 description" [(ngModel)]="tier1.description"></textarea>
    </md-input-container>
     <button md-button (click)="addTier1()">Add tier 1 </button>
  </md-card>

  <md-card *ngIf="selectedTier==='Two Tier' || selectedTier==='Three Tier'">
    <md-select placeholder="Tier1 Title"  [(ngModel)]="selectedTier1Title">
      <md-option *ngFor="let content of contentsRef | async" [value]="content.tier1Title">
        {{ content.tier1Title }}
      </md-option>
    </md-select>
    <md-input-container class="example-half-width">
      <input mdInput placeholder="Tier 2 title" [(ngModel)]="tier2.title">
    </md-input-container>
    <button md-button (click)="addTier2()">Add tier 2 </button>  
  </md-card>

  <md-card *ngIf="selectedTier==='Three Tier'">
    <md-input-container class="example-half-width">
      <input mdInput placeholder="Tier 3 title" [(ngModel)]="tier1.tier2.tier3.title">
    </md-input-container>
    <md-input-container class="example-half-width">
      <textarea mdInput placeholder="Tier 3 description" [(ngModel)]="tier1.tier2.tier3.description"></textarea>
    </md-input-container>
  </md-card>

  <md-card>
      <p> Type text (mixed with MathML, TeX or asciimath) in the box below for a live preview.</p>  
      <textarea id="MathInput" cols="60" rows="10"
        (keyup)="Update()" style="margin-top:5px" [(ngModel)]="formula">
      </textarea>
      <p>Configured delimiters:</p>
      <ul>
        <li>TeX, inline mode: <code>\(...\)</code> or <code>$...$</code></li>
        <li>TeX, display mode: <code>\[...\]</code> or <code> $$...$$</code></li>
        <li>Asciimath: <code>`...`</code>.</li>
        <li>Example: <code>`sum_(i=1)^n i^3=((n(n+1))/2)^2`</code></li>
      </ul>
      <p>Preview is shown here:</p>
      <div id="MathPreview" style="border:1px solid; padding: 3px; width:50%; margin-top:5px"></div>
      <div id="MathBuffer" style="border:1px solid; padding: 3px; width:50%; margin-top:5px;
      visibility:hidden; position:absolute; top:0; left: 0"></div>  
      <button md-raised-button (click)="saveTierLevel()">Save Formula</button>
    </md-card>
  <div id="fetchedFormula">
    <!--<ul>
      <li *ngFor="let item of items | async">
        
        <div class="mathjax" >{{ item.basic }}</div>
      </li>
    </ul>-->
  </div>


  </div>

  

